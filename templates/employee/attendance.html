{% extends 'employee/base_employee.html' %}

{% block title %}Attendance | IntelliHRTrack{% endblock %}

{% block content %}
<!-- Header -->
			<header id="section-top" class="relative overflow-hidden rounded-3xl glass p-6 md:p-8 shadow-glow reveal">
				<div class="absolute inset-0 opacity-40 animate-shine" style="background-image: linear-gradient(90deg, var(--accent), rgba(255,255,255,0.2), var(--accent)); background-size: 200% 100%;"></div>
				<div class="relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4">
					<div class="flex items-center gap-4">
						<div class="relative">
							<img class="w-16 h-16 md:w-20 md:h-20 rounded-full object-cover border-4 border-white/50 shadow-lg" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Renzo">
							<div class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white"></div>
						</div>
						<div>
							<h1 class="text-2xl md:text-3xl font-extrabold tracking-tight">Attendance Portal</h1>
							<p class="text-sm md:text-base text-gray-600 dark:text-gray-300 mt-1">Track your work hours, overtime, and attendance compliance</p>
							<div class="flex items-center gap-2 mt-2 text-sm">
								<span class="px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full">ID: EMP-8472</span>
								<span class="px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full">Sales Department</span>
							</div>
						</div>
					</div>
					<div class="flex items-center gap-3">
						<button id="mobileMenu" class="lg:hidden p-2 rounded-xl glass" aria-label="Open Menu"><iconify-icon icon="ph:list-duotone"></iconify-icon></button>
						<div class="hidden md:flex items-center gap-2 px-3 py-1 rounded-xl glass text-xs">
							<span id="netDot" class="inline-block w-2.5 h-2.5 rounded-full bg-green-500" title="Online"></span>
							<span id="headerClock">--:--:--</span>
						</div>
						<button id="themeToggleHeader" class="p-2 rounded-xl glass hover:shadow-glow transition">
							<iconify-icon icon="ph:sun-dim-duotone" class="hidden dark:inline text-accent"></iconify-icon>
							<iconify-icon icon="ph:moon-stars-duotone" class="dark:hidden text-accent"></iconify-icon>
						</button>
					</div>
				</div>
			</header>

			<!-- Check-in/Live/Face row -->
			<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
				<!-- Check-In / Check-Out -->
				<div class="glass rounded-3xl p-6 shadow reveal">
					<h2 class="text-xl font-bold mb-4">Check-In / Check-Out</h2>
					<div class="p-6 bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/20 rounded-2xl border border-green-200 dark:border-green-700 text-center mb-4">
						<div class="w-20 h-20 rounded-full bg-green-500 flex items-center justify-center mx-auto mb-4 pulse-subtle">
							<iconify-icon icon="ph:fingerprint-duotone" class="text-white text-3xl"></iconify-icon>
						</div>
						<h3 class="text-lg font-bold text-green-800 dark:text-green-300" id="currentStatus">Checked In</h3>
						<p class="text-sm text-green-600 dark:text-green-400 mt-2">You checked in at <span class="font-semibold">8:45 AM</span></p>
						<p class="text-xs text-green-500 dark:text-green-500 mt-1">Duration: <span id="workDuration">7h 15m</span></p>
					</div>
					<div class="grid grid-cols-2 gap-4">
						<button id="checkInBtn" class="px-4 py-4 bg-gray-300 text-gray-600 rounded-xl font-medium transition-all ripple" disabled>
							<iconify-icon icon="ph:arrow-right-duotone" class="mr-2"></iconify-icon>
							Check In
						</button>
						<button id="checkOutBtn" class="px-4 py-4 bg-red-500 hover:bg-red-600 text-white rounded-xl font-medium transition-all ripple">
							<iconify-icon icon="ph:arrow-left-duotone" class="mr-2"></iconify-icon>
							Check Out
						</button>
					</div>
					<div class="mt-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl text-center">
						<p class="text-sm text-blue-700 dark:text-blue-300">Next scheduled break: <span class="font-semibold">12:00 PM</span></p>
					</div>
				</div>

				<!-- Live Status -->
				<div class="glass rounded-3xl p-6 shadow reveal">
					<h2 class="text-xl font-bold mb-4">Live Status</h2>
					<div class="space-y-4">
						<div class="p-4 bg-green-50 dark:bg-green-900/30 rounded-xl border-l-4 border-green-500">
							<div class="flex items-center justify-between">
								<div class="flex items-center gap-3">
									<div class="w-3 h-3 rounded-full bg-green-500"></div>
									<span class="font-medium">Current Status</span>
								</div>
								<span class="px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs rounded-full">Active</span>
							</div>
							<p class="text-lg font-bold mt-2 text-green-700 dark:text-green-300">Checked In</p>
							<p class="text-sm text-green-600 dark:text-green-400 mt-1">Since 8:45 AM today</p>
						</div>

						<div class="p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl">
							<div class="flex justify-between items-center mb-2">
								<span class="text-sm font-medium">Today's Schedule</span>
								<span class="text-xs text-gray-500">Regular</span>
							</div>
							<div class="flex justify-between">
								<div class="text-center">
									<p class="text-xs text-gray-500">Start</p>
									<p class="font-bold">9:00 AM</p>
								</div>
								<div class="text-center">
									<p class="text-xs text-gray-500">End</p>
									<p class="font-bold">6:00 PM</p>
								</div>
								<div class="text-center">
									<p class="text-xs text-gray-500">Break</p>
									<p class="font-bold">1h</p>
								</div>
							</div>
						</div>

						<div class="p-4 bg-purple-50 dark:bg-purple-900/30 rounded-xl">
							<div class="flex justify-between items-center">
								<span class="text-sm font-medium">Location</span>
								<iconify-icon icon="ph:map-pin-duotone" class="text-purple-500"></iconify-icon>
							</div>
							<p class="text-sm text-purple-700 dark:text-purple-300 mt-1">Main Office - Floor 3</p>
							<p class="text-xs text-purple-600 dark:text-purple-400">Device: Tablet #7</p>
						</div>
					</div>
				</div>

				<!-- Facial Recognition -->
				<div class="glass rounded-3xl p-6 shadow reveal">
					<h2 class="text-xl font-bold mb-4">Facial Recognition</h2>
					<div class="text-center">
						<div class="relative mx-auto w-32 h-32 rounded-2xl overflow-hidden border-4 border-blue-200 dark:border-blue-700 mb-4">
							<img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Verification Photo" class="w-full h-full object-cover">
							<div class="absolute inset-0 bg-blue-500/20 flex items-center justify-center">
								<iconify-icon icon="ph:check-circle-duotone" class="text-white text-2xl"></iconify-icon>
							</div>
						</div>
						<p class="font-medium text-blue-700 dark:text-blue-300">Last Verification</p>
						<p class="text-sm text-blue-600 dark:text-blue-400">Today, 8:45 AM</p>
						<p class="text-xs text-blue-500 dark:text-blue-500 mt-2">Confidence: 98.7%</p>

						<button class="mt-4 w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl text-sm transition-all ripple flex items-center justify-center gap-2">
							<iconify-icon icon="ph:camera-duotone"></iconify-icon>
							Retake Verification
						</button>
					</div>
				</div>
			</div>

			<!-- Main split -->
			<div class="grid grid-cols-1 xl:grid-cols-2 gap-6">
				<!-- Left stack -->
				<div class="space-y-6">
					<!-- Attendance History -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6">
							<h2 class="text-xl font-bold">Attendance History</h2>
							<div class="flex items-center gap-3">
								<div class="relative">
									<input type="date" class="pl-10 pr-4 py-2 rounded-xl bg-white/50 dark:bg-slate-800/50 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent glass">
									<iconify-icon icon="ph:calendar-duotone" class="absolute left-3 top-2.5 text-gray-400"></iconify-icon>
								</div>
								<select class="px-4 py-2 rounded-xl glass text-sm">
									<option>All Status</option>
									<option>Present</option>
									<option>Late</option>
									<option>Absent</option>
								</select>
							</div>
						</div>
						<div class="overflow-x-auto">
							<table class="w-full text-sm">
								<thead>
									<tr class="border-b border-gray-200 dark:border-gray-700">
										<th class="text-left p-3">Date</th>
										<th class="text-left p-3">Check-In</th>
										<th class="text-left p-3">Check-Out</th>
										<th class="text-left p-3">Total Hours</th>
										<th class="text-left p-3">Status</th>
										<th class="text-left p-3">Remarks</th>
									</tr>
								</thead>
								<tbody>
									<tr class="border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
										<td class="p-3">Today</td>
										<td class="p-3">8:45 AM</td>
										<td class="p-3">-</td>
										<td class="p-3">7h 15m</td>
										<td class="p-3">
											<span class="px-2 py-1 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 text-xs rounded-full">Late</span>
										</td>
										<td class="p-3">
											<button class="text-blue-500 hover:text-blue-700 text-xs">Add Note</button>
										</td>
									</tr>
									<tr class="border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
										<td class="p-3">Nov 14</td>
										<td class="p-3">8:55 AM</td>
										<td class="p-3">6:10 PM</td>
										<td class="p-3">8h 15m</td>
										<td class="p-3">
											<span class="px-2 py-1 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 text-xs rounded-full">Late</span>
										</td>
										<td class="p-3"><span class="text-xs text-gray-500">Traffic delay</span></td>
									</tr>
									<tr class="border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
										<td class="p-3">Nov 13</td>
										<td class="p-3">8:58 AM</td>
										<td class="p-3">6:05 PM</td>
										<td class="p-3">8h 7m</td>
										<td class="p-3">
											<span class="px-2 py-1 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 text-xs rounded-full">Late</span>
										</td>
										<td class="p-3"><button class="text-blue-500 hover:text-blue-700 text-xs">Add Note</button></td>
									</tr>
									<tr class="border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
										<td class="p-3">Nov 12</td>
										<td class="p-3">8:45 AM</td>
										<td class="p-3">5:45 PM</td>
										<td class="p-3">8h 0m</td>
										<td class="p-3">
											<span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full">On Time</span>
										</td>
										<td class="p-3"><button class="text-blue-500 hover:text-blue-700 text-xs">Add Note</button></td>
									</tr>
									<tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
										<td class="p-3">Nov 11</td>
										<td class="p-3">8:42 AM</td>
										<td class="p-3">6:20 PM</td>
										<td class="p-3">8h 38m</td>
										<td class="p-3">
											<span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full">On Time</span>
										</td>
										<td class="p-3"><span class="text-xs text-gray-500">Stayed late for project</span></td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="flex justify-between items-center mt-4">
							<p class="text-sm text-gray-500 dark:text-gray-400">Showing 5 of 87 records</p>
							<div class="flex items-center gap-2">
								<button class="p-2 rounded-lg glass text-sm">Previous</button>
								<button class="p-2 rounded-lg glass text-sm bg-accent text-white">1</button>
								<button class="p-2 rounded-lg glass text-sm">2</button>
								<button class="p-2 rounded-lg glass text-sm">3</button>
								<button class="p-2 rounded-lg glass text-sm">Next</button>
							</div>
						</div>
					</div>

					<!-- Work Hour & Overtime -->
					<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
						<div class="glass rounded-3xl p-6 shadow reveal">
							<h2 class="text-xl font-bold mb-4">Work Hour Summary</h2>
							<div class="space-y-4">
								<div class="p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl">
									<div class="flex justify-between items-center mb-2"><span class="text-sm font-medium">Today</span><span class="text-xs text-gray-500">In Progress</span></div>
									<p class="text-2xl font-bold">7h 15m</p>
									<div class="w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2 mt-2"><div class="bg-blue-500 h-2 rounded-full" style="width: 85%"></div></div>
								</div>
								<div class="p-4 bg-green-50 dark:bg-green-900/30 rounded-xl">
									<div class="flex justify-between items-center mb-2"><span class="text-sm font-medium">This Week</span><span class="text-xs text-gray-500">Mon-Fri</span></div>
									<p class="text-2xl font-bold">38.5 hours</p>
									<div class="flex items-center gap-2 mt-2"><iconify-icon icon="ph:trend-up-duotone" class="text-green-500"></iconify-icon><span class="text-sm text-green-600 dark:text-green-400">+2.5h from last week</span></div>
								</div>
								<div class="p-4 bg-purple-50 dark:bg-purple-900/30 rounded-xl">
									<div class="flex justify-between items-center mb-2"><span class="text-sm font-medium">Monthly Average</span><span class="text-xs text-gray-500">Nov 2023</span></div>
									<p class="text-2xl font-bold">8.2h/day</p>
									<div class="flex items-center gap-2 mt-2"><iconify-icon icon="ph:trend-up-duotone" class="text-purple-500"></iconify-icon><span class="text-sm text-purple-600 dark:text-purple-400">+0.3h from Oct</span></div>
								</div>
							</div>
						</div>
						<div class="glass rounded-3xl p-6 shadow reveal">
							<h2 class="text-xl font-bold mb-4">Overtime Summary</h2>
							<div class="p-6 bg-gradient-to-br from-purple-50 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/20 rounded-2xl border border-purple-200 dark:border-purple-700 mb-4">
								<div class="flex items-center justify-between mb-4"><h3 class="font-bold text-purple-800 dark:text-purple-300">Current Period</h3><iconify-icon icon="ph:clock-countdown-duotone" class="text-purple-500 text-xl"></iconify-icon></div>
								<div class="flex items-end gap-2"><span class="text-3xl font-bold text-purple-700 dark:text-purple-300">12.5</span><span class="text-lg text-purple-600 dark:text-purple-400 mb-1">hours</span></div>
								<div class="flex items-center gap-2 mt-4"><iconify-icon icon="ph:trend-up-duotone" class="text-green-500"></iconify-icon><span class="text-sm text-green-600 dark:text-green-400">+2.5h from last period</span></div>
							</div>
							<div class="space-y-3">
								<div class="flex justify-between items-center"><span class="text-sm text-gray-600 dark:text-gray-400">Overtime Rate</span><span class="font-medium">1.5x pay</span></div>
								<div class="flex justify-between items-center"><span class="text-sm text-gray-600 dark:text-gray-400">Estimated Earnings</span><span class="font-medium">$573.75</span></div>
								<div class="flex justify-between items-center"><span class="text-sm text-gray-600 dark:text-gray-400">Approval Status</span><span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full">Approved</span></div>
							</div>
						</div>
					</div>

					<!-- Punctuality Tracker -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<h2 class="text-xl font-bold mb-4">Punctuality Tracker</h2>
						<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
							<div class="p-4 bg-amber-50 dark:bg-amber-900/30 rounded-xl text-center">
								<div class="w-12 h-12 rounded-full bg-amber-500 flex items-center justify-center mx-auto mb-3"><iconify-icon icon="ph:clock-duotone" class="text-white text-xl"></iconify-icon></div>
								<p class="text-sm text-gray-600 dark:text-gray-400">Late Arrivals</p>
								<p class="text-2xl font-bold mt-1">3</p>
								<p class="text-xs text-amber-500 mt-1">This month</p>
							</div>
							<div class="p-4 bg-red-50 dark:bg-red-900/30 rounded-xl text-center">
								<div class="w-12 h-12 rounded-full bg-red-500 flex items-center justify-center mx-auto mb-3"><iconify-icon icon="ph:arrow-left-duotone" class="text-white text-xl"></iconify-icon></div>
								<p class="text-sm text-gray-600 dark:text-gray-400">Early Departures</p>
								<p class="text-2xl font-bold mt-1">1</p>
								<p class="text-xs text-red-500 mt-1">This month</p>
							</div>
							<div class="p-4 bg-green-50 dark:bg-green-900/30 rounded-xl text-center">
								<div class="w-12 h-12 rounded-full bg-green-500 flex items-center justify-center mx-auto mb-3"><iconify-icon icon="ph:trend-down-duotone" class="text-white text-xl"></iconify-icon></div>
								<p class="text-sm text-gray-600 dark:text-gray-400">Improvement</p>
								<p class="text-2xl font-bold mt-1">42%</p>
								<p class="text-xs text-green-500 mt-1">From last month</p>
							</div>
						</div>
						<div class="h-48"><canvas id="punctualityChart"></canvas></div>
					</div>
				</div>

				<!-- Right stack -->
				<div class="space-y-6">
					<!-- Attendance Compliance -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<h2 class="text-xl font-bold mb-4">Attendance Compliance</h2>
						<div class="flex items-center justify-center">
							<div class="relative w-48 h-48">
								<canvas id="complianceGauge"></canvas>
								<div class="absolute inset-0 flex flex-col items-center justify-center">
									<span class="text-3xl font-bold">96%</span>
									<span class="text-sm text-gray-500 dark:text-gray-400">Punctuality</span>
								</div>
							</div>
						</div>
						<div class="grid grid-cols-2 gap-4 mt-4 text-center">
							<div><p class="text-sm text-gray-500 dark:text-gray-400">On Time Days</p><p class="font-bold">18</p></div>
							<div><p class="text-sm text-gray-500 dark:text-gray-400">Late Days</p><p class="font-bold">3</p></div>
							<div><p class="text-sm text-gray-500 dark:text-gray-400">Target</p><p class="font-bold">95%</p></div>
							<div><p class="text-sm text-gray-500 dark:text-gray-400">Department Avg</p><p class="font-bold">92%</p></div>
						</div>
					</div>

					<!-- AI Insights -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<h2 class="text-xl font-bold mb-4">AI Insights</h2>
						<div class="space-y-4">
							<div class="p-4 bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/20 rounded-xl border border-green-200 dark:border-green-700">
								<div class="flex items-start gap-3"><iconify-icon icon="ph:trend-up-duotone" class="text-green-500 mt-1"></iconify-icon>
									<div><p class="font-medium text-green-800 dark:text-green-300">You've improved your punctuality by 10% this month.</p><p class="text-sm text-green-600 dark:text-green-400 mt-1">Great consistency in morning arrivals!</p></div>
								</div>
							</div>
							<div class="p-4 bg-gradient-to-br from-blue-50 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/20 rounded-xl border border-blue-200 dark:border-blue-700">
								<div class="flex items-start gap-3"><iconify-icon icon="ph:clock-countdown-duotone" class="text-blue-500 mt-1"></iconify-icon>
									<div><p class="font-medium text-blue-800 dark:text-blue-300">Your average work duration is 8.2 hours daily.</p><p class="text-sm text-blue-600 dark:text-blue-400 mt-1">Optimal work-life balance maintained.</p></div>
								</div>
							</div>
							<div class="p-4 bg-gradient-to-br from-amber-50 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/20 rounded-xl border border-amber-200 dark:border-amber-700">
								<div class="flex items-start gap-3"><iconify-icon icon="ph:warning-duotone" class="text-amber-500 mt-1"></iconify-icon>
									<div><p class="font-medium text-amber-800 dark:text-amber-300">3 late arrivals detected this month.</p><p class="text-sm text-amber-600 dark:text-amber-400 mt-1">Consider adjusting your morning routine.</p></div>
								</div>
							</div>
						</div>
					</div>

					<!-- Attendance Calendar -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<h2 class="text-xl font-bold mb-4">Attendance Calendar</h2>
						<div class="flex items-center justify-between mb-4">
							<button class="p-2 rounded-lg glass"><iconify-icon icon="ph:caret-left-duotone"></iconify-icon></button>
							<h3 class="font-bold">November 2023</h3>
							<button class="p-2 rounded-lg glass"><iconify-icon icon="ph:caret-right-duotone"></iconify-icon></button>
						</div>
						<div class="grid grid-cols-7 gap-1 text-center text-xs mb-2">
							<div class="p-2 font-medium">Sun</div><div class="p-2 font-medium">Mon</div><div class="p-2 font-medium">Tue</div><div class="p-2 font-medium">Wed</div><div class="p-2 font-medium">Thu</div><div class="p-2 font-medium">Fri</div><div class="p-2 font-medium">Sat</div>
						</div>
						<div class="grid grid-cols-7 gap-1">
							<div class="p-2 text-center text-gray-400">29</div><div class="p-2 text-center text-gray-400">30</div><div class="p-2 text-center text-gray-400">31</div>
							<div class="p-2 text-center">1</div><div class="p-2 text-center">2</div><div class="p-2 text-center">3</div><div class="p-2 text-center">4</div>
							<div class="p-2 text-center">5</div><div class="p-2 text-center">6</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">7</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">8</div>
							<div class="p-2 text-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded">9</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">10</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">11</div>
							<div class="p-2 text-center">12</div><div class="p-2 text-center">13</div>
							<div class="p-2 text-center bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 rounded">14</div>
							<div class="p-2 text-center bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 rounded">15</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">16</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">17</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">18</div>
							<div class="p-2 text-center">19</div><div class="p-2 text-center">20</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">21</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">22</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">23</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">24</div>
							<div class="p-2 text-center">25</div><div class="p-2 text-center">26</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">27</div>
							<div class="p-2 text-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded">28</div>
							<div class="p-2 text-center bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 rounded">29</div>
							<div class="p-2 text-center">30</div>
							<div class="p-2 text-center text-gray-400">1</div><div class="p-2 text-center text-gray-400">2</div>
						</div>
						<div class="flex items-center justify-center gap-4 mt-4 text-xs">
							<div class="flex items-center gap-1"><div class="w-3 h-3 bg-green-500 rounded"></div><span>Present</span></div>
							<div class="flex items-center gap-1"><div class="w-3 h-3 bg-amber-500 rounded"></div><span>Late</span></div>
							<div class="flex items-center gap-1"><div class="w-3 h-3 bg-blue-500 rounded"></div><span>Leave</span></div>
						</div>
					</div>

					<!-- Department Comparison -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<h2 class="text-xl font-bold mb-4">Department Comparison</h2>
						<div class="space-y-4">
							<div>
								<div class="flex justify-between text-sm mb-1"><span class="text-gray-600 dark:text-gray-400">Your Punctuality</span><span class="font-medium">96%</span></div>
								<div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-green-500 h-2 rounded-full" style="width: 96%"></div></div>
							</div>
							<div>
								<div class="flex justify-between text-sm mb-1"><span class="text-gray-600 dark:text-gray-400">Department Average</span><span class="font-medium">92%</span></div>
								<div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full" style="width: 92%"></div></div>
							</div>
							<div>
								<div class="flex justify-between text-sm mb-1"><span class="text-gray-600 dark:text-gray-400">Company Average</span><span class="font-medium">89%</span></div>
								<div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"><div class="bg-purple-500 h-2 rounded-full" style="width: 89%"></div></div>
							</div>
						</div>
						<div class="mt-4 p-3 bg-green-50 dark:bg-green-900/30 rounded-xl"><p class="text-sm text-green-700 dark:text-green-300 text-center">You're performing 4% better than your department average!</p></div>
					</div>

					<!-- Notifications -->
					<div class="glass rounded-3xl p-6 shadow reveal">
						<h2 class="text-xl font-bold mb-4">Notifications</h2>
						<div class="space-y-3 max-h-60 overflow-y-auto fancy-scroll">
							<div class="flex items-start gap-3 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl">
								<div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white flex-shrink-0"><iconify-icon icon="ph:bell-duotone"></iconify-icon></div>
								<div class="flex-1"><p class="text-sm font-medium">Check-in Reminder</p><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Your scheduled check-in time is in 15 minutes.</p><p class="text-xs text-gray-400 dark:text-gray-500 mt-1">Today, 8:45 AM</p></div>
							</div>
							<div class="flex items-start gap-3 p-3 bg-amber-50 dark:bg-amber-900/30 rounded-xl">
								<div class="w-8 h-8 rounded-full bg-amber-500 flex items-center justify-center text-white flex-shrink-0"><iconify-icon icon="ph:warning-duotone"></iconify-icon></div>
								<div class="flex-1"><p class="text-sm font-medium">Late Arrival Recorded</p><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">You were 15 minutes late on November 14.</p><p class="text-xs text-gray-400 dark:text-gray-500 mt-1">Nov 14, 9:10 AM</p></div>
							</div>
							<div class="flex items-start gap-3 p-3 bg-green-50 dark:bg-green-900/30 rounded-xl">
								<div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white flex-shrink-0"><iconify-icon icon="ph:check-circle-duotone"></iconify-icon></div>
								<div class="flex-1"><p class="text-sm font-medium">Overtime Approved</p><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Your overtime for last week has been approved.</p><p class="text-xs text-gray-400 dark:text-gray-500 mt-1">Nov 13, 3:20 PM</p></div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Certificate & Export -->
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div class="glass rounded-3xl p-6 shadow reveal">
					<h2 class="text-xl font-bold mb-4">Attendance Certificate</h2>
					<div class="p-4 bg-gradient-to-br from-amber-50 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/20 rounded-xl border border-amber-200 dark:border-amber-700 mb-4">
						<div class="flex items-center gap-3">
							<div class="w-12 h-12 rounded-full bg-amber-500 flex items-center justify-center text-white"><iconify-icon icon="ph:certificate-duotone"></iconify-icon></div>
							<div>
								<p class="font-medium text-amber-800 dark:text-amber-300">Generate Certificate</p>
								<p class="text-sm text-amber-600 dark:text-amber-400">Official attendance record for any period</p>
							</div>
						</div>
					</div>
					<div class="space-y-3">
						<div>
							<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Select Period</label>
							<select class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 glass py-2 px-3">
								<option>Last 30 days</option>
								<option>Current Month</option>
								<option>Last Quarter</option>
								<option>Custom Range</option>
							</select>
						</div>
						<button class="w-full px-4 py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-medium transition-all ripple flex items-center justify-center gap-2"><iconify-icon icon="ph:download-duotone"></iconify-icon> Generate PDF Certificate</button>
					</div>
				</div>

				<div class="glass rounded-3xl p-6 shadow reveal">
					<h2 class="text-xl font-bold mb-4">Export Records</h2>
					<div class="p-4 bg-gradient-to-br from-blue-50 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/20 rounded-2xl border border-blue-200 dark:border-blue-700 mb-4">
						<div class="flex items-center gap-3">
							<div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white"><iconify-icon icon="ph:export-duotone"></iconify-icon></div>
							<div>
								<p class="font-medium text-blue-800 dark:text-blue-300">Export Attendance Data</p>
								<p class="text-sm text-blue-600 dark:text-blue-400">Multiple formats available</p>
							</div>
						</div>
					</div>
					<div class="space-y-3">
						<div class="grid grid-cols-2 gap-3">
							<button class="p-3 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-glow transition-all ripple flex flex-col items-center justify-center"><iconify-icon icon="ph:file-pdf-duotone" class="text-red-500 text-2xl mb-2"></iconify-icon><span class="text-sm font-medium">PDF</span></button>
							<button class="p-3 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-glow transition-all ripple flex flex-col items-center justify-center"><iconify-icon icon="ph:file-csv-duotone" class="text-green-500 text-2xl mb-2"></iconify-icon><span class="text-sm font-medium">CSV</span></button>
						</div>
						<button class="w-full px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium transition-all ripple flex items-center justify-center gap-2"><iconify-icon icon="ph:printer-duotone"></iconify-icon> Print Attendance Record</button>
					</div>
				</div>
			</div>

			<!-- Remarks & Notes -->
			<div class="glass rounded-3xl p-6 shadow reveal">
				<h2 class="text-xl font-bold mb-4">Remarks &amp; Notes</h2>
				<div class="space-y-4">
					<div class="p-4 bg-gray-50 dark:bg-gray-700 rounded-xl">
						<div class="flex justify-between items-center mb-2"><span class="font-medium">Today, November 15</span><span class="px-2 py-1 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 text-xs rounded-full">Late</span></div>
						<textarea class="w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 glass py-2 px-3" rows="2" placeholder="Add note for today...">Heavy traffic due to road construction</textarea>
						<div class="flex justify-end mt-2"><button class="px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition-all ripple">Save Note</button></div>
					</div>
					<div class="p-4 bg-gray-50 dark:bg-gray-700 rounded-xl">
						<div class="flex justify-between items-center mb-2"><span class="font-medium">November 11</span><span class="px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full">On Time</span></div>
						<p class="text-sm text-gray-600 dark:text-gray-400">Stayed late to complete the quarterly report</p>
					</div>
				</div>
			</div>

			<footer class="pb-8 pt-2 text-xs text-gray-500 dark:text-gray-400 text-center">© IntelliHRTrack • User Attendance Portal</footer>
{% endblock %}

{% block extra_js %}
<script>
		// Active link highlighter (filename based)
		(function(){const file=location.pathname.split('/').pop();document.querySelectorAll('aside nav a').forEach(a=>{const href=a.getAttribute('href');if(!href) return; if(href===file){a.classList.add('gradient-accent','text-white','shadow-glow');a.classList.remove('glass');} else {a.classList.remove('gradient-accent','text-white');if(!a.classList.contains('glass')) a.classList.add('glass');}});})();
		// Theme toggle hookup
		(function(){function save(){localStorage.setItem('ih_theme',document.documentElement.classList.contains('dark')?'dark':'light');}['themeToggle','themeToggleHeader'].forEach(id=>{const el=document.getElementById(id);if(el){el.addEventListener('click',()=>{document.documentElement.classList.toggle('dark');save();});}});})();
		</script>

<script>
		// Theme
		const themeToggle = document.getElementById('themeToggle');
		const themeToggleHeader = document.getElementById('themeToggleHeader');
		function toggleTheme(){ document.documentElement.classList.toggle('dark'); localStorage.setItem('ih_theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light'); }
		themeToggle?.addEventListener('click', toggleTheme);
		themeToggleHeader?.addEventListener('click', toggleTheme);
		if (localStorage.getItem('ih_theme') === 'dark') document.documentElement.classList.add('dark');

		// Clock + network
		const headerClock = document.getElementById('headerClock');
		const netDot = document.getElementById('netDot');
		function updateClock(){ if(headerClock) headerClock.textContent = new Date().toLocaleTimeString(); }
		setInterval(updateClock, 1000); updateClock();
		function updateNet(){ const on = navigator.onLine; if(netDot){ netDot.classList.toggle('bg-green-500', on); netDot.classList.toggle('bg-rose-500', !on); netDot.title = on ? 'Online' : 'Offline'; } }
		window.addEventListener('online', updateNet); window.addEventListener('offline', updateNet); updateNet();

		// Settings
		const customizeBtn = document.getElementById('customizeLayout');
		const settingsPanel = document.getElementById('settingsPanel');
		const closeSettings = document.getElementById('closeSettings');
		const saveSettings = document.getElementById('saveSettings');
		const resetSettings = document.getElementById('resetSettings');
		const motionToggle = document.getElementById('motionToggle');
		function openSettings(){ settingsPanel.classList.remove('hidden'); settingsPanel.classList.add('flex'); }
		function closeSettingsFn(){ settingsPanel.classList.add('hidden'); settingsPanel.classList.remove('flex'); }
		customizeBtn?.addEventListener('click', openSettings); closeSettings?.addEventListener('click', closeSettingsFn); settingsPanel?.addEventListener('click', (e)=>{ if(e.target===settingsPanel) closeSettingsFn(); });
		const accentBtns = Array.from(document.querySelectorAll('#settingsPanel [data-accent]'));
		const bgBtns = Array.from(document.querySelectorAll('#settingsPanel [data-bg]'));
		const densityBtns = Array.from(document.querySelectorAll('#settingsPanel [data-density]'));
		function getPrefs(){ try{ return JSON.parse(localStorage.getItem('ih_prefs')) || {}; }catch{ return {}; } }
		function setPrefs(p){ localStorage.setItem('ih_prefs', JSON.stringify(p)); }
		function applyPrefs(p){ if(p.accent) document.documentElement.setAttribute('data-accent', p.accent); if(p.bg) document.documentElement.setAttribute('data-bg', p.bg); document.documentElement.setAttribute('data-density', p.density||'comfortable'); document.documentElement.classList.toggle('reduce-motion', !!p.reduceMotion); if(motionToggle) motionToggle.checked = !!p.reduceMotion; }
		const initPrefs = getPrefs(); applyPrefs(initPrefs);
		accentBtns.forEach(b=> b.addEventListener('click', ()=> document.documentElement.setAttribute('data-accent', b.dataset.accent)));
		bgBtns.forEach(b=> b.addEventListener('click', ()=> document.documentElement.setAttribute('data-bg', b.dataset.bg)));
		densityBtns.forEach(b=> b.addEventListener('click', ()=> document.documentElement.setAttribute('data-density', b.dataset.density)));
		saveSettings?.addEventListener('click', ()=>{
			const prev = getPrefs();
			const p = { accent: document.documentElement.getAttribute('data-accent'), bg: document.documentElement.getAttribute('data-bg'), density: document.documentElement.getAttribute('data-density'), reduceMotion: motionToggle && motionToggle.checked, glass: glassIntensity ? glassIntensity.value : (prev.glass||'0.6'), sidebar: (prev.sidebar)||'default', contrast: contrastToggle ? contrastToggle.checked : !!prev.contrast, font: document.documentElement.getAttribute('data-font') || prev.font || 'base' };
			const activeSidebar = document.activeElement && document.activeElement.getAttribute('data-sidebar'); if(activeSidebar) p.sidebar = activeSidebar; setPrefs(p); applyPrefs(p); applyPrefsExtended(p); closeSettingsFn();
		});
		resetSettings?.addEventListener('click', ()=>{ const p = {accent:'teal', bg:'gradient', density:'comfortable', reduceMotion:false}; setPrefs(p); applyPrefs(p); });

		// Toasts
		const toastHost = document.getElementById('toastHost');
		function showToast(msg, type='info'){
			if(!toastHost) return; const item = document.createElement('div'); item.className = `toast ${type==='success'?'success':type==='warning'?'warn':type==='error'?'error':'info'} glass`;
			item.innerHTML = `<div class="flex items-start gap-2"><iconify-icon icon="${type==='success'?'ph:check-circle-duotone':type==='warning'?'ph:warning-duotone':type==='error'?'ph:x-circle-duotone':'ph:info-duotone'}" class="mt-0.5 text-accent"></iconify-icon><div class="text-sm">${msg}</div></div>`;
			toastHost.appendChild(item); setTimeout(()=>{ item.style.transition='opacity .4s ease, transform .4s ease'; item.style.opacity='0'; item.style.transform='translateY(-6px)'; }, 2600); setTimeout(()=> item.remove(), 3100);
		}
		setTimeout(()=>{ try{ showToast('Attendance portal loaded — ready.','success'); }catch(_){} }, 700);

		// Back to top
		const backToTop = document.getElementById('backToTop');
		window.addEventListener('scroll', ()=>{ if(window.scrollY > 400) backToTop?.classList.remove('hidden'); else backToTop?.classList.add('hidden'); });
		backToTop?.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

		// Shortcuts
		const shortcutsModal = document.getElementById('shortcutsModal');
		const shortcutsBtn = document.getElementById('shortcutsBtn');
		const closeShortcuts = document.getElementById('closeShortcuts');
		function openShortcuts(){ shortcutsModal.classList.remove('hidden'); shortcutsModal.classList.add('flex'); }
		function closeShortcutsFn(){ shortcutsModal.classList.add('hidden'); shortcutsModal.classList.remove('flex'); }
		shortcutsBtn?.addEventListener('click', openShortcuts); closeShortcuts?.addEventListener('click', closeShortcutsFn); shortcutsModal?.addEventListener('click', (e)=>{ if(e.target===shortcutsModal) closeShortcutsFn(); });
		document.addEventListener('keydown', (e)=>{ if(e.target && ['INPUT','TEXTAREA'].includes(e.target.tagName)) return; if(e.key.toLowerCase()==='s'){ e.preventDefault(); openSettings(); } if(e.key.toLowerCase()==='t'){ e.preventDefault(); toggleTheme(); } if(e.key === '?'){ e.preventDefault(); openShortcuts(); } });

		// Mobile sidebar
		const mobileMenuBtn = document.getElementById('mobileMenu');
		const mobileSidebar = document.getElementById('mobileSidebar');
		const mobilePanel = document.getElementById('mobilePanel');
		const mobileBackdrop = document.getElementById('mobileBackdrop');
		const mobileClose = document.getElementById('closeMobile');
		const mobileNavContent = document.getElementById('mobileNavContent');
		function openMobile(){ const desk = document.querySelector('aside nav ul'); if(desk && mobileNavContent){ mobileNavContent.innerHTML=''; mobileNavContent.appendChild(desk.cloneNode(true)); mobileNavContent.querySelectorAll('a').forEach(a=>{ a.addEventListener('click', (ev)=>{ const tgt = a.getAttribute('data-target'); if(tgt){ ev.preventDefault(); const el = document.querySelector(tgt); if(el){ el.scrollIntoView({behavior:'smooth', block:'start'}); } } closeMobile(); }); }); }
			mobileSidebar.classList.remove('hidden'); requestAnimationFrame(()=> mobilePanel.classList.remove('-translate-x-full')); }
		function closeMobile(){ mobilePanel.classList.add('-translate-x-full'); setTimeout(()=> mobileSidebar.classList.add('hidden'), 250); }
		mobileMenuBtn?.addEventListener('click', openMobile); mobileBackdrop?.addEventListener('click', closeMobile); mobileClose?.addEventListener('click', closeMobile);

		// Micro-interactions + reveal
		Array.from(document.querySelectorAll('.glass')).forEach(el=> el.classList.add('hover-lift'));
		Array.from(document.querySelectorAll('button')).forEach(el=> el.classList.add('ripple'));
		const revealables = Array.from(document.querySelectorAll('.reveal'));
		const io = new IntersectionObserver(entries=>{ entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('in-view'); io.unobserve(en.target); } }); }, { threshold: 0.12 });
		revealables.forEach(el=> io.observe(el));

		// Prefs extended
		const glassIntensity = document.getElementById('glassIntensity');
		const contrastToggle = document.getElementById('contrastToggle');
		const sidebarBtns = Array.from(document.querySelectorAll('#settingsPanel [data-sidebar]'));
		const fontBtns = Array.from(document.querySelectorAll('#settingsPanel [data-font]'));
		function applyGlass(val){ const alpha = parseFloat(val||'0.6'); document.documentElement.style.setProperty('--card-bg', `rgba(255,255,255,${alpha})`); document.documentElement.style.setProperty('--card-border', `rgba(255,255,255,${Math.max(0, Math.min(1, alpha*0.6))})`); }
		function applySidebar(size){ const map = { narrow:'14rem', default:'18rem', wide:'22rem' }; const px = map[size] || map.default; document.documentElement.style.setProperty('--sidebar', px); }
		function applyFont(f){ const size = f==='small'? '0.95rem' : f==='large'? '1.05rem' : '1rem'; document.documentElement.setAttribute('data-font', f||'base'); document.body.style.fontSize = size; }
		function applyPrefsExtended(p){ if(p.glass) applyGlass(p.glass); if(p.sidebar) applySidebar(p.sidebar); if(p.contrast) document.documentElement.classList.toggle('high-contrast', !!p.contrast); if(p.font) applyFont(p.font); if(glassIntensity) glassIntensity.value = p.glass || '0.6'; if(contrastToggle) contrastToggle.checked = !!p.contrast; }
		applyPrefsExtended(getPrefs());
		sidebarBtns.forEach(b=> b.addEventListener('click', ()=> applySidebar(b.dataset.sidebar)));
		fontBtns.forEach(b=> b.addEventListener('click', ()=> applyFont(b.dataset.font)));
		glassIntensity?.addEventListener('input', ()=> applyGlass(glassIntensity.value));
		contrastToggle?.addEventListener('change', ()=> document.documentElement.classList.toggle('high-contrast', contrastToggle.checked));

		// Attendance-specific logic
		function updateWorkDuration(){ const checkInTime = new Date(); checkInTime.setHours(8,45,0); const now = new Date(); const diffMs = now - checkInTime; const diffHrs = Math.floor(diffMs / (1000*60*60)); const diffMins = Math.floor((diffMs % (1000*60*60)) / (1000*60)); const el = document.getElementById('workDuration'); if(el) el.textContent = `${diffHrs}h ${diffMins}m`; }
		setInterval(()=>{ updateClock(); updateWorkDuration(); }, 1000); updateWorkDuration();

		// Charts
		try {
			const punctualityCtx = document.getElementById('punctualityChart')?.getContext('2d');
			if(punctualityCtx){ new Chart(punctualityCtx, { type:'bar', data:{ labels:['Sep','Oct','Nov'], datasets:[ { label:'Late Arrivals', data:[7,5,3], backgroundColor:'#f59e0b' }, { label:'Early Departures', data:[3,2,1], backgroundColor:'#ef4444' } ] }, options:{ responsive:true, maintainAspectRatio:false, plugins:{ legend:{ position:'top' } }, scales:{ x:{ grid:{ display:false } }, y:{ beginAtZero:true } } } }); }
			const complianceCtx = document.getElementById('complianceGauge')?.getContext('2d');
			if(complianceCtx){ new Chart(complianceCtx, { type:'doughnut', data:{ datasets:[{ data:[96,4], backgroundColor:['#10b981','#e5e7eb'], borderWidth:0 }] }, options:{ responsive:true, maintainAspectRatio:false, cutout:'75%', plugins:{ legend:{ display:false }, tooltip:{ enabled:false } } } }); }
		} catch(e){}

		// Check-in/out buttons
		document.getElementById('checkOutBtn')?.addEventListener('click', function(){ const btn=this; btn.textContent='Checking Out...'; btn.disabled=true; setTimeout(()=>{ document.getElementById('currentStatus').textContent='Checked Out'; document.getElementById('currentStatus').classList.remove('text-green-800','dark:text-green-300'); document.getElementById('currentStatus').classList.add('text-red-700','dark:text-red-300'); document.querySelector('.pulse-subtle')?.classList.remove('bg-green-500'); document.querySelector('.pulse-subtle')?.classList.add('bg-red-500'); const inBtn=document.getElementById('checkInBtn'); if(inBtn){ inBtn.disabled=false; inBtn.classList.remove('bg-gray-300','text-gray-600'); inBtn.classList.add('bg-green-500','hover:bg-green-600','text-white'); } alert('Successfully checked out! Total hours today: 7h 42m'); }, 1500); });
		document.getElementById('checkInBtn')?.addEventListener('click', function(){ const btn=this; btn.textContent='Checking In...'; btn.disabled=true; setTimeout(()=>{ document.getElementById('currentStatus').textContent='Checked In'; document.getElementById('currentStatus').classList.remove('text-red-700','dark:text-red-300'); document.getElementById('currentStatus').classList.add('text-green-800','dark:text-green-300'); document.querySelector('.pulse-subtle')?.classList.remove('bg-red-500'); document.querySelector('.pulse-subtle')?.classList.add('bg-green-500'); const outBtn=document.getElementById('checkOutBtn'); if(outBtn){ outBtn.disabled=false; } alert('Successfully checked in! Welcome back.'); }, 1500); });
	</script>
{% endblock %}
